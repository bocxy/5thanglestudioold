(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{495:function(e,t,a){},498:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=function(e){var t=e.heading,a=e.children,n=e.styleName,l=e.cardStyle,i=e.childrenStyle,o=e.headerOutside,s=e.headingStyle;return r.a.createElement("div",{className:"".concat(n)},o&&r.a.createElement("div",{className:"jr-entry-header"},r.a.createElement("h3",{className:"entry-heading"},t),a.length>1&&r.a.createElement("div",{className:"entry-description"},a[0])),r.a.createElement("div",{className:"jr-card ".concat(l)},!o&&t&&r.a.createElement("div",{className:"jr-card-header ".concat(s)},r.a.createElement("h3",{className:"card-heading"},t),a.length>1&&r.a.createElement("div",{className:"sub-heading"},a[0])),r.a.createElement("div",{className:"jr-card-body ".concat(i)},a.length>1?a[1]:a),r.a.createElement("div",{className:"jr-card-body ".concat(i)},a.length>1?a[2]:"")))};t.a=l,l.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},499:function(e,t,a){"use strict";a.d(t,"j",function(){return u}),a.d(t,"l",function(){return c}),a.d(t,"g",function(){return p}),a.d(t,"f",function(){return m}),a.d(t,"c",function(){return v}),a.d(t,"b",function(){return f}),a.d(t,"i",function(){return g}),a.d(t,"h",function(){return h}),a.d(t,"e",function(){return b}),a.d(t,"a",function(){return y}),a.d(t,"m",function(){return _}),a.d(t,"d",function(){return E}),a.d(t,"k",function(){return I});var n=a(500),r=a(162),l=a.n(r);function i(){var e=Object(n.a)(["\nquery MyQuery($first: Int!, $offset: Int!) {\n  allProjects(filter: {status: {equalTo: ADVANCEDPAID}}, first: $first, offset: $offset, orderBy: UPDATED_BY_DESC) {\n    nodes {\n      id\n      customerByCustomerId {\n        name\n        mobile\n        projectEventsByCustomerId {\n          nodes {\n            eventStartDate\n            masterEventByEventId {\n              eventName\n            }\n          }\n        }\n      }\n      finalQuoteId\n    }\n    totalCount\n  }\n}\n"]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\nquery MyQuery($first: Int!, $offset: Int!,$search:String,$orderBy:[ProjectsOrderBy!]) {\n  allProjects(first: $first, offset: $offset, orderBy: $orderBy,filter: {customerByCustomerId: {or: [{name: {includes: $search}}, {mobile: {includes: $search}}, {serialNo: {includes: $search}}]}}) {\n    nodes {\n      createdAt\n      customerByCustomerId {\n        mobile\n        name\n        id\n        serialNo\n        projectEventsByCustomerId(filter: {isActive: {equalTo: true}}) {\n          nodes {\n            masterEventByEventId {\n              eventName\n            }\n          }\n        }\n        followUpDate\n      }\n      status\n      projectQuoteByFinalQuoteId {\n        totalAmt\n        advanceReceived\n        description\n        isPaymentCompleted\n        id\n      }\n      id\n    }\n    totalCount\n  }\n}\n"]);return o=function(){return e},e}function s(){var e=Object(n.a)(["\nquery MyQuery($first: Int!, $offset: Int!,$search:String,$orderBy:[ProjectsOrderBy!]) {\n  allProjects(first: $first, offset: $offset, orderBy: $orderBy, filter: {status: {in: [QUOTECONFIRMED, ADVANCEDPAID]}, customerByCustomerId: {or: [{name: {includes: $search}}, {mobile: {includes: $search}}, {serialNo: {includes: $search}}]}}) {\n    nodes {\n      createdAt\n      customerByCustomerId {\n        mobile\n        name\n        id\n        serialNo\n        projectEventsByCustomerId(filter: {isActive: {equalTo: true}}) {\n          nodes {\n            masterEventByEventId {\n              eventName\n            }\n          }\n        }\n        followUpDate\n      }\n      status\n      projectQuoteByFinalQuoteId {\n        totalAmt\n        advanceReceived\n        description\n        isPaymentCompleted\n        id\n      }\n      id\n    }\n    totalCount\n  }\n}\n"]);return s=function(){return e},e}function d(){var e=Object(n.a)(["\nquery MyQuery($profile_id: UUID, $first: Int!, $offset: Int!) {\n  allCustomers(filter: {updatedBy: {equalTo: $profile_id}}, offset: $offset, first: $first, orderBy: CREATED_AT_DESC) {\n    nodes {\n      email\n      id\n      mobile\n      name\n      createdAt\n      serialNo\n      projectsByCustomerId {\n        nodes {\n          status\n          projectQuoteByFinalQuoteId {\n            totalAmt\n          }\n          id\n          customerByCustomerId {\n            projectEventsByCustomerId {\n              nodes {\n                masterEventByEventId {\n                  eventName\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    totalCount\n  }\n}\n"]);return d=function(){return e},e}l()(d());var u="\nquery MyQuery($id: UUID!) {\n  customerById(id: $id) {\n    email\n    mobile\n    id\n    name\n    eventAddress\n    shootDetails\n    createdAt\n    source\n    serialNo\n    projectsByCustomerId {\n      nodes {\n        id\n        status\n        customerByCustomerId {\n          projectEventsByCustomerId(filter: {isActive: {equalTo: true}}, orderBy: CREATED_AT_ASC) {\n            nodes {\n              id\n              isActive\n              eventId\n              eventStartDate\n              eventStartTime\n              eventEndDate\n              eventEndTime\n              masterEventByEventId {\n                id\n                eventName\n              }\n              brideName\n              groomName\n              location\n              venue\n              noOfPeople\n              otherFunctionDetails\n              typeOfWedding\n            }\n          }\n        }\n      }\n    }\n    facebookId\n    instaId\n    salesPerson\n    whatsappNumber\n    followUpDate\n  }\n}\n\n",c="\nquery MyQuery {\n  allMasterServices {\n    nodes {\n      id\n      isActive\n      price\n      tax\n      serviceName\n      description\n      duration\n    }\n  }\n}\n",p="\nquery MyQuery($id: UUID!) {\n  customerById(id: $id) {\n    projectsByCustomerId {\n      nodes {\n        id\n        finalQuoteId\n        projectQuotesByProjectId(orderBy: CREATED_AT_DESC) {\n          nodes {\n            id\n            isActive\n            netAmt\n            projectId\n            tax\n            totalAmt\n            baseAmt\n            discount\n            balance\n            advanceReceived\n            advanceReceiveDate\n            adjustmentAmt\n            createdAt\n            eventServicesByProjectQuoteId(orderBy: ORDER_DATA_ASC) {\n              nodes {\n                projectEventId\n                quantity\n                isDeliverable\n                servicePrice\n                masterServiceByServiceId {\n                  id\n                  serviceName\n                  price\n                  tax\n                  description\n                  duration\n                }\n              }\n            }\n            projectByProjectId {\n              customerByCustomerId {\n                projectEventsByCustomerId(orderBy: CREATED_AT_ASC) {\n                  nodes {\n                    id\n                    masterEventByEventId {\n                      id\n                      eventName\n                    }\n                  }\n                }\n              }\n            }\n          }\n          totalCount\n        }\n      }\n    }\n  }\n}\n\n",m="\nquery MyQuery($id: UUID!) {\n  customerById(id: $id) {\n    projectsByCustomerId {\n      nodes {\n        id\n      }\n    }\n  }\n}\n",v="\nquery MyQuery($id: UUID!) {\n  projectById(id: $id) {\n    communicationsByProjectId(orderBy: CREATED_AT_DESC) {\n      nodes {\n        id\n        message\n        senderId\n        createdAt\n        userProfileByCreatedBy {\n          name\n        }\n        isInternal\n      }\n    }\n  }\n}\n",f="\nquery MyQuery {\n  allMasterEvents {\n    nodes {\n      id\n      eventName\n    }\n  }\n}\n",g="\nquery MyQuery($id: UUID!) {\n  customerById(id: $id) {\n    projectEventsByCustomerId(filter: {isActive: {equalTo: true}}, orderBy: CREATED_AT_ASC) {\n      nodes {\n        id\n        masterEventByEventId {\n          id\n          eventName\n        }\n      }\n    }\n  }\n}\n\n\n",h=l()(s()),y=l()(o()),b="\nquery MyQuery($id: UUID!) {\n  customerById(id: $id) {\n    email\n    mobile\n    name\n    serialNo\n    projectsByCustomerId {\n      nodes {\n        status\n      }\n    }\n  }\n}\n",_="\nquery MyQuery {\n  allMasterRoles(filter: {id: {in: [2, 6]}}) {\n    nodes {\n      userProfilesByRoleId {\n        nodes {\n          name\n        }\n      }\n    }\n  }\n}",E=l()(i()),I="\nquery MyQuery {\n  allMasterCountryCodes {\n    nodes {\n      id\n      code\n      countryShortName\n    }\n  }\n}\n"},501:function(e,t,a){"use strict";a.d(t,"b",function(){return u}),a.d(t,"c",function(){return c}),a.d(t,"a",function(){return g}),a.d(t,"h",function(){return p}),a.d(t,"i",function(){return m}),a.d(t,"j",function(){return v}),a.d(t,"k",function(){return f}),a.d(t,"g",function(){return h}),a.d(t,"e",function(){return y}),a.d(t,"f",function(){return b}),a.d(t,"d",function(){return _});var n=a(500),r=a(162),l=a.n(r);function i(){var e=Object(n.a)(["  \n  mutation MyMutation($id: UUID!, $name: String!, $source: EnumCustomersSource!, $email: String!, $mobile: String!, $event_address: String!, $shoot_details: String!, $whatsapp_number: String, $facebook_id: String, $insta_id: String, $sales_person: String!) {\n    __typename\n    updateCustomerById(input: {customerPatch: {name: $name, source: $source, email: $email, mobile: $mobile, eventAddress: $event_address, shootDetails: $shoot_details, facebookId: $facebook_id, instaId: $insta_id, salesPerson: $sales_person, whatsappNumber: $whatsapp_number}, id: $id}) {\n      customer {\n        projectsByCustomerId {\n          nodes {\n            id\n          }\n        }\n      }\n    }\n  }\n  \n  "]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\n  mutation MyMutation($id:UUID!,$status:EnumProjectsStatus) {\n    __typename\n    updateProjectById(input: {projectPatch: {status: $status}, id: $id}) {\n      project {\n        id\n      }\n    }\n  }\n  "]);return o=function(){return e},e}function s(){var e=Object(n.a)(["\n  mutation MyMutationj(\n    $id: UUID!\n    $customer_id: UUID!\n    $created_at: Datetime!\n    $updated_at: Datetime!\n    $profile_id: UUID!\n    $final_quote_id: UUID\n  ) {\n    __typename\n    createProject(\n      input: {\n        project: {\n          id: $id\n          customerId: $customer_id\n          pgVgTl: $profile_id\n          psTl: $profile_id\n          qc: $profile_id\n          createdAt: $created_at\n          updatedAt: $updated_at\n          createdBy: $profile_id\n          updatedBy: $profile_id\n          finalQuoteId: $final_quote_id\n          isActive: true\n          status: CAPTURED\n        }\n      }\n    ) {\n      project {\n        id\n      }\n    }\n  }\n  \n  "]);return s=function(){return e},e}function d(){var e=Object(n.a)(["\n    mutation MyMutation($id: UUID!, $name: String!, $mobile: String!, $email: String!, $shoot_details: String, $event_address: String, $source: EnumCustomersSource!, $profile_id: UUID!, $created_at: Datetime!, $updated_at: Datetime!, $whatsapp_number: String, $facebook_id: String, $insta_id: String, $sales_person: String!) {\n      __typename\n      createCustomer(input: {customer: {id: $id, createdAt: $created_at, updatedAt: $updated_at, createdBy: $profile_id, email: $email, mobile: $mobile, name: $name, eventAddress: $event_address, shootDetails: $shoot_details, isActive: true, source: $source, updatedBy: $profile_id, facebookId: $facebook_id, instaId: $insta_id, salesPerson: $sales_person, whatsappNumber: $whatsapp_number}}) {\n        customer {\n          id\n        }\n      }\n    }\n        \n    "]);return d=function(){return e},e}var u=l()(d()),c=l()(s()),p=l()(o()),m="mutation MyMutation($id:UUID!,$status:EnumProjectsStatus) {\n    __typename\n    updateProjectById(input: {projectPatch: {status: $status}, id: $id}) {\n      project {\n        id\n      }\n    }\n  }",v=l()(i()),f="\n  mutation MyMutation($id: UUID!, $final_quote_id: UUID, $status: EnumProjectsStatus!) {\n    __typename\n    updateProjectById(input: {projectPatch: {finalQuoteId: $final_quote_id, status: $status}, id: $id}) {\n      project {\n        finalQuoteId\n      }\n      customerByCustomerId {\n        serialNo\n      }\n    }\n  }  \n  ",g="\n  mutation MyMutation(\n    $id: UUID!\n    $sender_id: UUID!\n    $created_at: Datetime!\n    $updated_at: Datetime!\n    $message: String!\n    $is_internal: Boolean!\n    $project_id: UUID!\n    $mode: String\n  ) {\n    __typename\n    createCommunication(\n      input: {\n        communication: {\n          id: $id\n          senderId: $sender_id\n          createdBy: $sender_id\n          updatedBy: $sender_id\n          createdAt: $created_at\n          updatedAt: $updated_at\n          message: $message\n          isInternal: $is_internal\n          isActive: true\n          projectId: $project_id\n          mode: $mode\n        }\n      }\n    ) {\n      communication {\n        id\n      }\n    }\n  }\n  ",h="\n  mutation MyMutation(\n    $id: UUID!\n    $advance: String\n    $description: String\n    $advanceReceiveDate: Datetime\n  ) {\n    __typename\n    updateProjectQuoteById(\n      input: {\n        projectQuotePatch: {\n          advanceReceived: $advance\n          description: $description\n          advanceReceiveDate: $advanceReceiveDate\n        }\n        id: $id\n      }\n    ) {\n      projectQuote {\n        advanceReceived\n      }\n    }\n  }\n  \n  ",y="\n  query MyQuery($projectQuoteId: UUID!) {\n    projectQuoteById(id: $projectQuoteId) {\n      projectByProjectId {\n        customerByCustomerId {\n          projectEventsByCustomerId(orderBy: CREATED_AT_ASC) {\n            nodes {\n              brideName\n              eventStartDate\n              groomName\n              masterEventByEventId {\n                eventName\n              }\n              eventServicesByProjectEventId(filter: {projectQuoteId: {equalTo: $projectQuoteId}}, orderBy: ORDER_DATA_ASC) {\n                nodes {\n                  masterServiceByServiceId {\n                    serviceName\n                    description\n                    duration\n                  }\n                  quantity\n                  isDeliverable\n                  servicePrice\n                }\n              }\n              location\n            }\n          }\n          name\n        }\n      }\n      totalAmt\n    }\n  }\n  \n  ",b="\n  query MyQuery($Id: UUID!,$FinalQuoteId:UUID!) {\n    projectById(id: $Id) {\n      customerByCustomerId {\n        projectEventsByCustomerId {\n          nodes {\n            masterEventByEventId {\n              id\n              eventName\n            }\n            eventServicesByProjectEventId(filter: {projectQuoteId: {equalTo: $FinalQuoteId}}) {\n              nodes {\n                quantity\n                masterServiceByServiceId {\n                  id\n                  serviceName\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ",_="\n  mutation MyMutation ($follow_up_date:Datetime!,$id:UUID!) {\n    __typename\n    updateCustomerById(input: {customerPatch: {followUpDate: $follow_up_date}, id: $id}) {\n      customer {\n        followUpDate\n      }\n    }\n  }\n  "},516:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(0),r=a.n(n),l=a(936),i=a(933),o=a(889);function s(e){return r.a.createElement(i.a,Object.assign({elevation:6,variant:"filled"},e))}var d=Object(o.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}});function u(e){var t=d(),a=function(){e.snackBarClose()};return r.a.createElement("div",{className:t.root},r.a.createElement(l.a,{open:e.open,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:a},r.a.createElement(s,{onClose:a,severity:e.color},e.message)))}},535:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e).split(".")[0]}},540:function(e,t,a){"use strict";var n=a(32),r=a.n(n),l=a(63),i=a(20),o=a(30),s=a(21),d=a(12),u=a(25),c=a(26),p=a(27),m=a(0),v=a.n(m),f=a(210),g=a(163),h=a(892),y=a(939),b=a(476),_=a(168),E=a(558),I=a.n(E),M=a(481),k=a(559),N=a.n(k),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={see:a.props.see},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return v.a.createElement("div",{key:"datetime_default",className:"picker"},v.a.createElement(_.a,{fullWidth:!0,format:"Do MMMM YYYY, h:mm a",value:this.props.selectedDate,className:this.props.className,label:this.props.label,onChange:this.props.onChange,animateYearScrolling:!1,strictCompareDates:!0,minDate:this.props.minDate,leftArrowIcon:v.a.createElement(I.a,null),rightArrowIcon:v.a.createElement(I.a,{style:{transform:"rotate(180deg)"}}),InputProps:{endAdornment:v.a.createElement(M.a,{position:"end",style:{cursor:"auto"}},v.a.createElement(N.a,{style:{color:"rgba(0, 0, 0, 0.7)"}})),style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px",cursor:"auto !importent"}},variant:"outlined",helperText:this.props.error?this.props.errorMsg:"",error:this.props.error,margin:"dense",disabled:this.props.see}))}}]),t}(m.Component),w=a(498),S=(a(495),a(161)),x=a.n(S),j=a(501),D=a(536),T=a(42),B=a(57),P=a(499),A=a(62),O=a(99),$=a(932),U=a(516),L=[{value:"  ",label:"None"},{value:"IVRCalls",label:"IVR Calls"},{value:"Facebook",label:"Facebook"},{value:"Webchat",label:"Webchat"},{value:"Webform",label:"Webform"},{value:"Instagram",label:"Instagram"},{value:"Mail",label:"Mail"},{value:"Walkin",label:"Walkin"},{value:"Reference",label:"Reference"},{value:"BDMLeads",label:"BDM Leads"},{value:"Canvera",label:"Canvera"},{value:"Wedmegood",label:"Wedmegood"},{value:"GoogleBusiness",label:"Google Business"},{value:"IVRWhatsapp",label:"Whatsapp"}],q={Wedding:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Reception:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Reception 2":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Engagement:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Nalangu:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Birthday:[{placeholder:"Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:9,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Baby shower":[{placeholder:"Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:9,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Mehandi:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Sangeeth:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Haldi:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Pelli kodukku":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Pelli Kuthuru":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Half Saree Function":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Vratham:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Janavasam:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Pandhakaal:[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Cocktail Party":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],"Outdoor Shoot":[{placeholder:"Bride Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Groom Name",key:"groom_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Type of Wedding",key:"type_of_wedding",type:3,options:[{value:"  ",label:"None"},{value:"Hindu",label:"Hindu"},{value:"Christian",label:"Christian"},{value:"Muslim",label:"Muslim"}],grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}],Others:[{placeholder:"Name",key:"bride_name",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Start Date & Time",key:"event_start_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"End Date & Time",key:"event_end_date",type:2,grid:3,error:!1,value:null,errorMsg:"please fill this field"},{placeholder:"Venue",key:"venue",type:1,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"# of people",key:"no_of_people",type:5,grid:3,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Location",key:"location",type:1,grid:9,error:!1,value:"",errorMsg:"please fill this field"},{placeholder:"Other Details",key:"other_function_details",type:4,rowlimit:4,grid:12,error:!1,value:"",errorMsg:"please fill this field"}]},Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleSalesPerson=function(){O.post(A.b,{query:P.m}).then(function(e){var t,n,r=[];null===(t=e.data.data.allMasterRoles)||void 0===t||null===(n=t.nodes)||void 0===n||n.map(function(e){var t,a;null===e||void 0===e||null===(t=e.userProfilesByRoleId)||void 0===t||null===(a=t.nodes)||void 0===a||a.map(function(e){return r.push({value:e.name,label:e.name}),e});return e});r.unshift({value:"  ",label:"None"}),!1===a.state.unmounted&&a.setState({SalesPerson:r})})},a.handleMasterEvent=function(){O.post(A.b,{query:P.b}).then(function(e){a.state.unmounted||a.setState({master_event:e.data.data.allMasterEvents.nodes})})},a.country_codes=function(){O.post(A.b,{query:P.k}).then(function(e){var t,n,r,l;if(!a.state.unmounted){var i=null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.allMasterCountryCodes)||void 0===r?void 0:null===(l=r.nodes)||void 0===l?void 0:l.map(function(e){return{value:e.code+"("+e.countryShortName+")",label:e.code+"("+e.countryShortName+")"}});a.setState({master_country_code:i})}})},a.editLeadData=function(){O.post(A.b,{query:P.j,variables:{id:a.props.match.params.id}}).then(function(e){if(!a.state.unmounted&&e){var t,n,r=e.data.data.customerById,l=r&&r.projectsByCustomerId.nodes[0]&&(null===(t=r.projectsByCustomerId.nodes[0].customerByCustomerId)||void 0===t?void 0:t.projectEventsByCustomerId.nodes.map(function(e){return{id:e.eventId,eventName:e.masterEventByEventId.eventName}})),i=r&&r.projectsByCustomerId.nodes[0]&&(null===(n=r.projectsByCustomerId.nodes[0].customerByCustomerId)||void 0===n?void 0:n.projectEventsByCustomerId.nodes.map(function(e){var t=JSON.parse(JSON.stringify(q[e.masterEventByEventId.eventName])),a=null===t||void 0===t?void 0:t.map(function(t){return"bride_name"===t.key&&(t.value=null===e||void 0===e?void 0:e.brideName),"groom_name"===t.key&&(t.value=null===e||void 0===e?void 0:e.groomName),"event_start_date"===t.key&&(t.value=null===e||void 0===e?void 0:e.eventStartDate),"event_end_date"===t.key&&(t.value=null===e||void 0===e?void 0:e.eventEndDate),"type_of_wedding"===t.key&&(t.value=null===e||void 0===e?void 0:e.typeOfWedding),"venue"===t.key&&(t.value=null===e||void 0===e?void 0:e.venue),"location"===t.key&&(t.value=null===e||void 0===e?void 0:e.location),"no_of_people"===t.key&&(t.value=null===e||void 0===e?void 0:e.noOfPeople),"other_function_details"===t.key&&(t.value=null===e||void 0===e?void 0:e.otherFunctionDetails),t});return a.unshift({id:e.eventId,event_name:e.masterEventByEventId.eventName,project_event_id:e.id}),a})),o=JSON.parse(JSON.stringify(l)),s=JSON.parse(JSON.stringify(i));a.setState({follow_up_date:null===r||void 0===r?void 0:r.followUpDate,name:r&&r.name,phNumber:null===r||void 0===r?void 0:r.mobile.split(" ")[0],phoneno_code:(null===r||void 0===r?void 0:r.mobile.split(" ")[1])?null===r||void 0===r?void 0:r.mobile.split(" ")[1]:"+091(IND)",email:r&&r.email,createdOn:r&&r.createdAt,address:r&&r.eventAddress,serialNo:null===r||void 0===r?void 0:r.serialNo,project_id:r&&r.projectsByCustomerId.nodes[0]&&r.projectsByCustomerId.nodes[0].id,project_status:r&&r.projectsByCustomerId.nodes[0]&&r.projectsByCustomerId.nodes[0].status,leadSource:r&&r.source,shootDetails:r&&r.shootDetails,whatsappnumber:null!==(null===r||void 0===r?void 0:r.whatsappNumber)&&(null===r||void 0===r?void 0:r.whatsappNumber.trim().length)>0?r.whatsappNumber.split(" ")[0]:"",whatsapp_code:null!==(null===r||void 0===r?void 0:r.whatsappNumber)&&(null===r||void 0===r?void 0:r.whatsappNumber.split(" ")[1])?r.whatsappNumber.split(" ")[1]:"+091(IND)",facebookId:r&&r.facebookId,instaId:r&&r.instaId,salesPerson:r&&r.salesPerson,sendEventType:i,eventType:o,duplicateSentEventType:s})}})},a.handleChange=function(e){return function(t){var n=a.state;"string"===typeof t.target.value&&t.target.value.trim().length>0?"email"!==e||t.target.value.match(a.state.regexEmail)?"phNumber"===e&&t.target.value.trim().length<=9?(n.error.phNumber=!0,n.errorMsg.phNumber="Phone number must be 10 digit"):n.error[e]=!1:(n.error.email=!0,n.errorMsg.email="Email address is invalid"):("email"===e?n.errorMsg.email="Enter your emailid":"phNumber"===e&&(n.errorMsg.phNumber="Enter your phone number"),n.error[e]=!0),a.state.unmounted||a.setState(Object(o.a)({},n,Object(i.a)({},e,t.target.value)))}},a.AutohandleChange=function(e){return function(t,n){var r,l=a.state;"object"===typeof n&&n.length>0?l.error[e]=!1:l.error[e]=!0;var s=[];n.map(function(e){var t=l.sendEventType;return l.sendEventType.some(function(t){return t[0].id===e.id})?s.push(t.filter(function(t){return t[0].id===e.id})[0]):(q[e.eventName].unshift({id:null===e||void 0===e?void 0:e.id,event_name:null===e||void 0===e?void 0:e.eventName}),s.push(JSON.parse(JSON.stringify(q[e.eventName])))),e}),a.state.unmounted||a.setState(Object(o.a)({},l,(r={},Object(i.a)(r,e,n),Object(i.a)(r,"sendEventType",s),r)))}},a.handleDateChange=function(e){a.state.unmounted||a.setState({selectedDate:e._d})},a.handleForEventTypeChange=function(e,t,n){var r,l=a.state.sendEventType;l=null===(r=l)||void 0===r?void 0:r.map(function(a){return null===a||void 0===a?void 0:a.map(function(r){var l;if(e===(null===(l=a[0])||void 0===l?void 0:l.id))if("event_start_date"===n||"event_end_date"===n){var i=a.filter(function(e){return"event_start_date"===e.key})[0];t.getTime()<=(new Date).getTime()?(n===(null===r||void 0===r?void 0:r.key)&&(r.error=!0),"event_end_date"===n&&null===(null===i||void 0===i?void 0:i.value)?n===(null===r||void 0===r?void 0:r.key)&&(r.errorMsg="please select start date"):n===(null===r||void 0===r?void 0:r.key)&&(r.value=null,r.errorMsg="please select valid time")):"event_end_date"===n?null===(null===i||void 0===i?void 0:i.value)?n===(null===r||void 0===r?void 0:r.key)&&(r.errorMsg="please select start date",r.error=!0):new Date(i.value).getTime()>=t.getTime()?n===(null===r||void 0===r?void 0:r.key)&&(r.error=!0,r.value=null,r.errorMsg="please select valid time"):n===(null===r||void 0===r?void 0:r.key)&&(r.value=t,r.error=!1):n===(null===r||void 0===r?void 0:r.key)&&(r.value=t,r.error=!1)}else n===(null===r||void 0===r?void 0:r.key)&&(r.value=t);return r})}),a.state.unmounted||a.setState({sendEventType:l})},a.handleToggle=function(){var e=a.state.checked;e=!1===e,a.state.unmounted||a.setState({checked:e})},a.handleSubmit=function(){var e=Object(l.a)(r.a.mark(function e(t,n,l){var i,s,d,u,c,p,m,v,f,g,h,y;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}a.setState({see:!1}),e.next=41;break;case 4:if(s=["name","phNumber","email","address","eventType","leadSource","salesPerson"],d={},u=a.state,s.forEach(function(e){"string"===typeof a.state[e]&&a.state[e].trim().length>0||"object"===typeof a.state[e]&&a.state[e].length>0?"email"!==e||a.state[e].match(a.state.regexEmail)?"phNumber"===e&&a.state.phNumber.length<10?(d[e]=!0,u.errorMsg.phNumber="Phone number must be 10 digit"):d[e]=!1:(d[e]=!0,u.errorMsg.email="Email address is invalid"):("email"===e?u.errorMsg.email="Enter your emailid":"phNumber"===e&&(u.errorMsg.phNumber="Enter your phone number"),d[e]=!0)}),c=!0,p=a.state.sendEventType,p=null===(i=p)||void 0===i?void 0:i.map(function(e){var t=null===e||void 0===e?void 0:e.filter(function(e){return"event_start_date"===e.key})[0];return null===e||void 0===e?void 0:e.map(function(e){return null===e.value||0===String(null===e||void 0===e?void 0:e.value).trim().length?(e.error=!0,c=!1):"event_end_date"===e.key&&new Date(t.value).getTime()>new Date(e.value).getTime()?(e.error=!0,e.value=null,c=!1):e.error=!1,e})}),m=Object.values(d),m.some(function(e){return!0===e})){e.next=37;break}if(!a.state.unmounted){e.next=16;break}return e.abrupt("return");case 16:if(a.setState({isLoading:!0}),v={id:a.props.see?a.props.match.params.id:Object(D.v4)(),name:a.state.name,mobile:"".concat(a.state.phNumber," ").concat(a.state.phoneno_code),email:a.state.email,source:a.state.leadSource.toUpperCase(),profile_id:n.user.profile_id,event_address:a.state.address,shoot_details:a.state.shootDetails,whatsapp_number:a.state.whatsappnumber.trim().length>0?"".concat(a.state.whatsappnumber," ").concat(a.state.whatsapp_code):a.state.whatsappnumber,facebook_id:a.state.facebookId,insta_id:a.state.instaId,sales_person:a.state.salesPerson,created_at:new Date,updated_at:new Date},f={id:Object(D.v4)(),customer_id:"",created_at:new Date,updated_at:new Date,profile_id:n.user.profile_id,final_quote_id:null},!a.props.see||!c){e.next=33;break}return delete v.created_at,delete v.updated_at,delete f.created_at,delete f.updated_at,delete f.customer_id,delete f.profile_id,delete f.final_quote_id,h=a.state.duplicateSentEventType,null===(g=a.state.sendEventType)||void 0===g?void 0:g.map(function(e){var t;"undefined"!==typeof e[0].project_event_id&&(h=null===(t=h)||void 0===t?void 0:t.filter(function(t){return t[0].project_event_id!==e[0].project_event_id}));return e}),e.next=31,t.mutate({mutation:j.j,variables:v}).then(function(e){null!==e&&O.post("".concat(A.a,"/api/v1/event/update_event_type"),{event_types:a.state.sendEventType,customer_id:a.props.match.params.id,profile_id:n.user.profile_id,delete_event:h}).then(function(e){if(null!==e){if(a.state.unmounted)return;a.props.sendMsg({text:"".concat(n.user.name," updated customer details on ").concat(x()(new Date).format("Do MMMM YYYY, h:mm a")),status:!0}),a.props.snackBarOpen({color:"success",message:"You have updated Customer details successfully."}),a.props.getCustomerData(),a.editLeadData(),a.props.getAllQuote(a.props.match.params.id),a.setState({isLoading:!1,see:!0})}}).catch(console.error)}).catch(console.error);case 31:e.next=37;break;case 33:if(!c){e.next=37;break}return y=a.state.sendEventType,e.next=37,t.mutate({mutation:j.b,variables:v}).then(function(e){f.customer_id=e.data.createCustomer.customer.id,null!==e&&t.mutate({mutation:j.c,variables:f}).then(function(t){O.post("".concat(A.a,"/api/v1/event/event_type"),{profile_id:n.user.profile_id,customer_id:e.data.createCustomer.customer.id,event_types:y}).then(function(e){a.state.unmounted||e&&(a.snackBarOpen({color:"success",message:"You have captured New Lead details successfully."}),u.isLoading=!0,setTimeout(function(){a.props.history.push("/app/all-leads")},1e3))})}).catch(function(e){u.isLoading=!1,console.log(e)})}).catch(function(e){u.isLoading=!1,console.log(e)});case 37:if(a.state.isLoading&&(u.isLoading=!0),!a.state.unmounted){e.next=40;break}return e.abrupt("return");case 40:a.setState(Object(o.a)({},u,{error:d,sendEventType:p}));case 41:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.statusformat=function(e){var t,a=["Captured","Follow-Up","Quote Sent","Negotiation","Quote Final","Quote Confirmed","On Hold","Delayed","Cancelled","Quote Confirmd","Advance Paid"];["CAPTURED","FOLLOWUP","QUOTESENT","NEGOTIATION","QUOTEFINAL","QUOTECONFIRMED","ONHOLD","DELAYED","CANCELLED","QUOTECONFIRMED","ADVANCEDPAID"].map(function(n,r){return e===n&&(t=a[r]),n});return t},a.snackBarOpen=function(e){a.state.unmounted||a.setState({snackBarOpen:!0,snackbarColor:e.color,snackbarMessage:e.message})},a.snackBarClose=function(){if(!a.state.unmounted){var e=a.state;e.snackBarOpen=!1,a.setState(Object(o.a)({},e))}},a.handleFollowUpDate=function(e){var t=a.context,n=a.state;n.follow_up_date=e,O.post(A.b,{query:j.d,variables:{id:a.props.match.params.id,follow_up_date:e}}).then(function(e){a.state.unmounted||(a.props.snackBarOpen({color:"success",message:"You have updated Follow up date successfully."}),a.props.sendMsg({text:"".concat(t.user.name," updated customer Follow up date on ").concat(x()(new Date).format("Do MMMM YYYY, h:mm a")),status:!0}),a.setState(Object(o.a)({},n)))}).catch(function(e){console.log(e)})},a.state=Object(o.a)({SalesPerson:[{value:"  ",label:"None"}],unmounted:!1,follow_up_date:null,snackBarOpen:!1,snackbarMessage:"",snackbarColor:"",isLoading:!1,name:"",phNumber:"",email:"",address:"",selectedDate:(new Date).toDateString(),checked:!1,startTime:"07:30",endTime:"07:30",statusOfLead:"CAPTURED",eventType:[],sendEventType:[],leadSource:"",shootDetails:"",errors:!1,see:a.props.see,sees:a.props.sees,master_event:[],project_id:"",createdOn:"",project_status:"",serialNo:"",whatsappnumber:"",facebookId:"",instaId:"",salesPerson:"",phoneno_code:"+091(IND)",whatsapp_code:"+091(IND)",master_country_code:[{value:"+091(IND)",label:"+091(IND)"}],regexEmail:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,error:{eventType:!1,name:!1,phNumber:!1,address:!1,leadSource:!1,email:!1,salesPerson:!1},errorMsg:{eventType:"Please fill this field",name:"Enter your name",phNumber:"Enter your phone number",address:"Enter your address",leadSource:"Please fill this field",email:"Enter your emailid",salesPerson:"Please fill this field"}},!1!==a.props.see?a.props:{}),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.see&&this.editLeadData(),this.handleMasterEvent(),this.handleSalesPerson(),this.country_codes()}},{key:"componentWillUnmount",value:function(){this.setState({unmounted:!0})}},{key:"render",value:function(){var e=this,t=this.context,a=this.state;return v.a.createElement(g.a,null,function(n){var r,l,i,o,s,d,u,c,p;return v.a.createElement("div",null,v.a.createElement(w.a,{styleName:"col-lg-12 col-md-12 col-sm-12 p-0"},v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement(h.a,{item:!0,container:!0,justify:"space-around",alignItems:"stretch",spacing:2,className:"formHeader"},v.a.createElement(h.a,{item:!0,container:!0,xs:12,lg:3,md:3},e.props.see?v.a.createElement(v.a.Fragment,null,v.a.createElement(h.a,{item:!0,xs:4,lg:4,md:4},v.a.createElement("label",null,"Id:")),v.a.createElement(h.a,{item:!0,xs:8,lg:8,md:8},v.a.createElement("label",null,null===(r=a.serialNo)||void 0===r?void 0:r.toUpperCase())),v.a.createElement(h.a,{item:!0,xs:4,lg:4,md:4},v.a.createElement("label",null,"Created On:")),v.a.createElement(h.a,{item:!0,xs:8,lg:8,md:8},v.a.createElement("label",null,x()(e.state.createdOn).format("Do MMMM YYYY")))):""),v.a.createElement(h.a,{item:!0,xs:12,container:!0,lg:3,md:3},e.props.see?v.a.createElement(v.a.Fragment,null,v.a.createElement(h.a,{item:!0,xs:6,lg:6,md:6,style:{textAlign:"center"}},v.a.createElement("label",null,"Status:")),v.a.createElement(h.a,{item:!0,xs:6,lg:6,md:6},v.a.createElement("label",null,e.statusformat(e.state.project_status)))):""),v.a.createElement(h.a,{item:!0,xs:12,lg:3,md:3,style:{marginTop:"-7px"}},e.props.see?v.a.createElement(v.a.Fragment,null,v.a.createElement(h.a,{item:!0,xs:12,lg:12,md:12},v.a.createElement(C,{className:"disableDatePicker",style:{width:"100%"},error:"",errorMsg:"",minDate:new Date,see:!1,label:"Follow Up Date & Time",selectedDate:e.state.follow_up_date,onChange:function(t){return e.handleFollowUpDate(t._d)}}))):""),v.a.createElement(h.a,{item:!0,xs:12,lg:3,md:3},v.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:"12px"}},v.a.createElement("div",null,5===(null===t||void 0===t?void 0:null===(l=t.user)||void 0===l?void 0:l.user_role)?" ":e.props.see?a.see?v.a.createElement(b.a,{type:"submit",onClick:function(){e.handleSubmit(n,t,a.see)},variant:"contained",style:{backgroundColor:"#3f51b5"},className:"jr-btn  text-white btn-format"},"Edit"):v.a.createElement(v.a.Fragment,null,v.a.createElement(b.a,{type:"submit",variant:"contained",disabled:e.state.isLoading,style:{backgroundColor:"#3f51b5",marginRight:"5px"},onClick:function(){e.handleSubmit(n,t,a.see)},className:"jr-btn  text-white btn-format"},e.state.isLoading?"Saving...":"Save"),v.a.createElement(b.a,{style:{border:"1px solid #e4d9d9"},className:"jr-btn btn-format",onClick:function(){e.editLeadData(),e.state.unmounted||e.setState({see:!0})}},"Cancel")):v.a.createElement(b.a,{type:"submit",variant:"contained",disabled:e.state.isLoading,style:{backgroundColor:"#3f51b5"},onClick:function(){e.handleSubmit(n,t,a.see)},className:"jr-btn  text-white btn-format"},e.state.isLoading?v.a.createElement(v.a.Fragment,null,"Creating..."):"Create")),"\xa0",v.a.createElement("div",null,v.a.createElement(b.a,{variant:"contained",style:{backgroundColor:" rgb(127, 128, 136)"},onClick:function(){e.props.history.push("/app/all-leads")},className:"jr-btn  text-white btn-format"},"Back"))))),v.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch"},v.a.createElement(h.a,{item:!0,container:!0,justify:"space-around",alignItems:"stretch",spacing:2,className:"spaceAssignToForm"},v.a.createElement(h.a,{item:!0,xs:12,lg:4,md:4},v.a.createElement(f.a,{helperText:e.state.error.name?e.state.errorMsg.name:"",error:!!e.state.error.name,id:"outlined-password-input",label:"Customer Name",style:{width:"100%"},type:"text",disabled:a.see,autoComplete:"new-password",margin:"dense",variant:"outlined",inputProps:{maxLength:60,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.name,onChange:e.handleChange("name")})),v.a.createElement(h.a,{container:!0,item:!0,xs:12,lg:4,md:4,spacing:"1"},v.a.createElement(h.a,{item:!0,xs:4,sm:4,md:4,lg:4},v.a.createElement(f.a,{id:"outlined-select-currency-native",select:!0,label:"Code",value:e.state.phoneno_code,onChange:e.handleChange("phoneno_code"),SelectProps:{native:!0},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},margin:"dense",variant:"outlined",disabled:a.see},null===(i=e.state.master_country_code)||void 0===i?void 0:i.map(function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)}))),v.a.createElement(h.a,{item:!0,xs:8,sm:8,md:8,lg:8},v.a.createElement(f.a,{id:"outlined-password-input",helperText:e.state.error.phNumber?e.state.errorMsg.phNumber:"",error:!!e.state.error.phNumber,label:"Phone Number",type:"number",autoComplete:"new-password",margin:"dense",variant:"outlined",style:{width:"100%"},onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},disabled:a.see,value:a.phNumber,onChange:e.handleChange("phNumber")}))),v.a.createElement(h.a,{container:!0,item:!0,xs:12,lg:4,md:4,spacing:"1"},v.a.createElement(h.a,{item:!0,xs:4,sm:4,md:4,lg:4},v.a.createElement(f.a,{id:"outlined-select-currency-native",select:!0,label:"Code",value:e.state.whatsapp_code,onChange:e.handleChange("whatsapp_code"),SelectProps:{native:!0},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},margin:"dense",variant:"outlined",disabled:a.see},null===(o=e.state.master_country_code)||void 0===o?void 0:o.map(function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)}))),v.a.createElement(h.a,{item:!0,xs:8,sm:8,md:8,lg:8},v.a.createElement(f.a,{id:"outlined-password-input",label:"Whatsapp Number",type:"number",autoComplete:"new-password",margin:"dense",variant:"outlined",style:{width:"100%"},onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},disabled:a.see,value:a.whatsappnumber,onChange:e.handleChange("whatsappnumber")})))),v.a.createElement(h.a,{item:!0,container:!0,justify:"space-around",alignItems:"stretch",spacing:2,className:"spaceAssignToForm"},v.a.createElement(h.a,{item:!0,xs:12,lg:4,md:4},v.a.createElement(f.a,{id:"outlined-password-input",helperText:e.state.error.email?e.state.errorMsg.email:"",error:!!e.state.error.email,label:"Email Id",style:{width:"100%"},type:"email",autoComplete:"current-password",margin:"dense",variant:"outlined",disabled:a.see,inputProps:{maxLength:100,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.email,onChange:e.handleChange("email")})),v.a.createElement(h.a,{item:!0,xs:12,lg:4,md:4,style:{paddingLeft:"15px"}},v.a.createElement(f.a,{id:"outlined-password-input",label:"FB ID",style:{width:"100%"},type:"text",disabled:a.see,autoComplete:"new-password",margin:"dense",variant:"outlined",inputProps:{maxLength:60,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.facebookId,onChange:e.handleChange("facebookId")})),v.a.createElement(h.a,{item:!0,xs:12,lg:4,md:4,style:{paddingLeft:"15px"}},v.a.createElement(f.a,{id:"outlined-password-input",label:"Insta ID",style:{width:"100%"},type:"text",disabled:a.see,autoComplete:"new-password",margin:"dense",variant:"outlined",inputProps:{maxLength:60,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.instaId,onChange:e.handleChange("instaId")}))),v.a.createElement(h.a,{item:!0,container:!0,lg:12,md:12,className:"textareafieldSpacing"},v.a.createElement(f.a,{id:"outlined-multiline-static",label:"Shoot Details",multiline:!0,rows:"3",style:{width:"100%"},autoComplete:"new-multiline-static",inputProps:{maxLength:2e3,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.shootDetails,margin:"dense",variant:"outlined",disabled:a.see,onChange:e.handleChange("shootDetails")})),v.a.createElement(h.a,{item:!0,container:!0,lg:12,md:12,className:"textareafieldSpacing"},v.a.createElement(f.a,{id:"outlined-multiline-static",label:"Address of the Customer",helperText:e.state.error.address?e.state.errorMsg.address:"",error:!!e.state.error.address,multiline:!0,rows:"3",style:{width:"100%"},margin:"dense",variant:"outlined",disabled:a.see,inputProps:{maxLength:1e3,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:a.address,onChange:e.handleChange("address")})),v.a.createElement(h.a,{item:!0,container:!0,justify:"space-around",alignItems:"stretch",spacing:2,className:"textareafieldSpacing"},v.a.createElement(h.a,{item:!0,xs:12,lg:6,md:6},v.a.createElement(f.a,{id:"outlined-select-currency-native",select:!0,label:"Lead Source",helperText:e.state.error.leadSource?e.state.errorMsg.leadSource:"",error:!!e.state.error.leadSource,value:e.state.leadSource,onChange:e.handleChange("leadSource"),SelectProps:{native:!0},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},margin:"dense",variant:"outlined",style:{width:"100%"},disabled:a.see},L.map(function(e){return v.a.createElement("option",{key:e.value,value:e.value.toUpperCase()},e.label)}))),v.a.createElement(h.a,{item:!0,xs:12,lg:6,md:6},v.a.createElement(f.a,{id:"outlined-select-currency-native",select:!0,label:"Sales Person",helperText:e.state.error.salesPerson?e.state.errorMsg.salesPerson:"",error:!!e.state.error.salesPerson,value:e.state.salesPerson,onChange:e.handleChange("salesPerson"),SelectProps:{native:!0},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},margin:"dense",variant:"outlined",style:{width:"100%"},disabled:a.see},null===(s=e.state.SalesPerson)||void 0===s?void 0:s.map(function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)})))),v.a.createElement(h.a,{item:!0,justify:"space-around",spacing:2,style:{width:"100%"},className:"textareafieldSpacing"},v.a.createElement(h.a,{item:!0,xs:12,lg:12,md:12},v.a.createElement($.a,{multiple:!0,filterSelectedOptions:!0,id:"tags-standard",options:(null===(d=e.state.master_event)||void 0===d?void 0:d.length)>0?e.state.master_event:[],getOptionLabel:function(e){return e.eventName},value:(null===(u=e.state.eventType)||void 0===u?void 0:u.length)>0?e.state.eventType:[],filterOptions:function(e,t){return e},getOptionSelected:function(e,t){return e.eventName===t.eventName},onInputChange:function(e,t,a){console.log(t,"onInputChange")},onChange:e.AutohandleChange("eventType"),renderTags:function(e,t){return e.map(function(e,a){return v.a.createElement(y.a,Object.assign({variant:"outlined",label:e.eventName},t({index:a})))})},disabled:a.see,renderInput:function(t){return v.a.createElement(f.a,Object.assign({},t,{variant:"outlined",margin:"dense",label:"Choose Event Type",placeholder:e.state.eventType.length>0?"":"Choose Event Type",helperText:e.state.error.eventType?e.state.errorMsg.eventType:"",error:!!e.state.error.eventType}))}}))))),v.a.createElement("div",{style:{marginTop:"5px"}},v.a.createElement(h.a,{container:!0},v.a.createElement(h.a,{item:!0,container:!0},(null===(c=e.state.sendEventType)||void 0===c?void 0:c.length)>0?null===(p=e.state.sendEventType)||void 0===p?void 0:p.map(function(t){return v.a.createElement(v.a.Fragment,null,v.a.createElement(h.a,{item:!0,container:!0,alignItems:"stretch",spacing:1,className:"eventTypeBorder"},v.a.createElement(h.a,{item:!0,xs:12,sm:12,md:12},t[0].event_name),null===t||void 0===t?void 0:t.map(function(n){return v.a.createElement(v.a.Fragment,null,1===(null===n||void 0===n?void 0:n.type)?v.a.createElement(h.a,{item:!0,xs:12,lg:null===n||void 0===n?void 0:n.grid,md:null===n||void 0===n?void 0:n.grid},v.a.createElement(f.a,{helperText:n.error?null===n||void 0===n?void 0:n.errorMsg:"",error:!(null===n||void 0===n||!n.error),id:"outlined-password-input",label:null===n||void 0===n?void 0:n.placeholder,style:{width:"100%"},type:"text",disabled:a.see,autoComplete:"new-password",margin:"dense",variant:"outlined",inputProps:{maxLength:60,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:null===n||void 0===n?void 0:n.value,onChange:function(a){var r;return e.handleForEventTypeChange(null===(r=t[0])||void 0===r?void 0:r.id,a.target.value,null===n||void 0===n?void 0:n.key)}})):"",2===(null===n||void 0===n?void 0:n.type)?v.a.createElement(h.a,{item:!0,xs:12,sm:12,md:null===n||void 0===n?void 0:n.grid,className:"disableDatePicker"},v.a.createElement(C,{style:{width:"100%"},error:null===n||void 0===n?void 0:n.error,errorMsg:null===n||void 0===n?void 0:n.errorMsg,minDate:"event_start_date"===(null===n||void 0===n?void 0:n.key)?new Date:null===t.filter(function(e){return"event_start_date"===e.key})[0].value?new Date:t.filter(function(e){return"event_start_date"===e.key})[0].value,see:a.see,label:null===n||void 0===n?void 0:n.placeholder,selectedDate:null===n||void 0===n?void 0:n.value,onChange:function(a){var r;return e.handleForEventTypeChange(null===(r=t[0])||void 0===r?void 0:r.id,a._d,null===n||void 0===n?void 0:n.key)}})):"",3===(null===n||void 0===n?void 0:n.type)?v.a.createElement(h.a,{item:!0,xs:12,lg:null===n||void 0===n?void 0:n.grid,md:null===n||void 0===n?void 0:n.grid},v.a.createElement(f.a,{id:"outlined-select-currency-native",select:!0,label:null===n||void 0===n?void 0:n.placeholder,helperText:(null===n||void 0===n?void 0:n.error)?null===n||void 0===n?void 0:n.errorMsg:"",error:!(null===n||void 0===n||!n.error),value:null===n||void 0===n?void 0:n.value,onChange:function(a){var r;return e.handleForEventTypeChange(null===(r=t[0])||void 0===r?void 0:r.id,a.target.value,null===n||void 0===n?void 0:n.key)},SelectProps:{native:!0},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},margin:"dense",variant:"outlined",style:{width:"100%"},disabled:a.see},null===n||void 0===n?void 0:n.options.map(function(e){return v.a.createElement("option",{key:e.value,value:e.value},e.label)}))):"",4===(null===n||void 0===n?void 0:n.type)?v.a.createElement(h.a,{item:!0,container:!0,lg:null===n||void 0===n?void 0:n.grid,md:null===n||void 0===n?void 0:n.grid},v.a.createElement(f.a,{id:"outlined-multiline-static",label:null===n||void 0===n?void 0:n.placeholder,helperText:(null===n||void 0===n?void 0:n.error)?null===n||void 0===n?void 0:n.errorMsg:"",error:!(null===n||void 0===n||!n.error),multiline:!0,rows:"3",style:{width:"100%"},autoComplete:"new-multiline-static",inputProps:{maxLength:2e3,style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:null===n||void 0===n?void 0:n.value,margin:"dense",variant:"outlined",disabled:a.see,onChange:function(a){var r;return e.handleForEventTypeChange(null===(r=t[0])||void 0===r?void 0:r.id,a.target.value,null===n||void 0===n?void 0:n.key)}})):"",5===(null===n||void 0===n?void 0:n.type)?v.a.createElement(h.a,{item:!0,xs:12,lg:null===n||void 0===n?void 0:n.grid,md:null===n||void 0===n?void 0:n.grid},v.a.createElement(f.a,{helperText:(null===n||void 0===n?void 0:n.error)?null===n||void 0===n?void 0:n.errorMsg:"",error:!(null===n||void 0===n||!n.error),id:"outlined-password-input",label:null===n||void 0===n?void 0:n.placeholder,style:{width:"100%"},type:"number",disabled:a.see,autoComplete:"new-password",margin:"dense",variant:"outlined",onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:null===n||void 0===n?void 0:n.value,onChange:function(a){var r;return e.handleForEventTypeChange(null===(r=t[0])||void 0===r?void 0:r.id,a.target.value,null===n||void 0===n?void 0:n.key)}})):"")})))}):""))))),e.props.see?"":v.a.createElement(U.a,{open:e.state.snackBarOpen,color:e.state.snackbarColor,message:e.state.snackbarMessage,snackBarClose:e.snackBarClose}))})}}]),t}(m.Component);Q.contextType=T.a;t.a=Object(B.g)(Q)},600:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(20),l=a(32),i=a.n(l),o=a(63),s=a(21),d=a(12),u=a(25),c=a(26),p=a(27),m=a(0),v=a.n(m),f=a(475),g=a(922),h=a(535),y=a(903),b=a(498),_=a(210),E=a(476),I=a(499),M=a(501),k=a(99),N=a(62),C=a(932),w=a(939),S=a(893),x=a(896),j=a(895),D=a(894),T=a(668),B=a.n(T),P=a(667),A=a.n(P),O=a(601),$=(a(666),a(495),a(934)),U=a(892),L=a(161),q=a.n(L);var Q=function(t){function a(t){var l;return Object(s.a)(this,a),(l=Object(u.a)(this,Object(c.a)(a).call(this,t))).get_project_event=function(){k.post(N.b,{query:I.i,variables:{id:l.props.match.params.id}}).then(function(e){var t,a,n,r;if(!l.state.unmounted){var i=null===(t=e.data.data)||void 0===t?void 0:null===(a=t.customerById)||void 0===a?void 0:null===(n=a.projectEventsByCustomerId)||void 0===n?void 0:n.nodes;i=null===(r=i)||void 0===r?void 0:r.map(function(e){return e[e.masterEventByEventId.eventName]=[],e.error=!1,e.errorMsg="please fill this field",e}),l.setState({project_event:i})}})},l.master_service_fun=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post(N.b,{query:I.l}).then(function(e){var t,a;l.state.unmounted||l.setState({master_services:null===(t=e.data.data)||void 0===t?void 0:null===(a=t.allMasterServices)||void 0===a?void 0:a.nodes})});case 2:case"end":return e.stop()}},e)})),l.handleCheked=function(e,t,a,n){var i,o=l.state.baseAmt,s=l.state.totalAmt,d=l.state.tax,u=l.state.netAmt,c=l.state.discount,p=l.state.selected_master_service;u=!0===e?(s=(o+=Number(a))-c)+(d=18*s/100):(s=(o-=Number(a))-c)+(d=18*s/100),p&&p.some(function(e,t){return e.id===n.id})?p=p&&p.filter(function(e,t){return e.id!==n.id}):p&&p.push(n),l.state.unmounted||l.setState((i={},Object(r.a)(i,t,e),Object(r.a)(i,"baseAmt",o),Object(r.a)(i,"netAmt",u),Object(r.a)(i,"tax",d),Object(r.a)(i,"totalAmt",s),Object(r.a)(i,"selected_master_service",p),i))},l.discountChange=function(e){var t=l.state,a=t.baseAmt,n=t.totalAmt,r=t.tax,i=t.netAmt,o=t.adjustmentAmt,s=e;if((n=a+Number(o)-s)<0)return l.props.alertOpenBox({open:!0,content:"Oops your discount amount is greater than the Base amount",status:"info"}),!1;l.state.unmounted||(l.setState({totalAmt:n}),i=n+(r=18*n/100),l.state.unmounted||l.setState({discount:s,netAmt:i,tax:r}))},l.splitAmountValue=function(e){var t=String(e);if(t.length>3){for(var a=0,n=0,r=Number(e),l="",i=!1;0!==r;){l=Number(r%10)+l,r=Math.floor(r/10);var o=String(r).split(".")[0];r=Number(o),n+=1,3===(a+=1)&&(l=","+l,a=0,i=!0),2===a&&i&&n!==t.length&&(a=0,l=","+l)}return l}return e},l.generate_pdf=function(){var e=Object(o.a)(i.a.mark(function e(t,a){var n,r,o,s,d,u,c,p,m,v,f,g,h,y,b,_,E,I,C,w;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.props.circularProcess(!0),n=new O,r=0,n.internal.events.subscribe("addPage",function(){(r+=1)>2&&(n.setFillColor(232,225,225),n.rect(0,0,210,300,"F"))}),n.setFontSize(11),e.next=7,l.pdfImages("Background.jpg",function(e){o=e});case 7:return e.next=9,l.pdfImages("Invoice+Images-01.jpg",function(e){s=e});case 9:return e.next=11,l.pdfImages("Invoice+Images-02.jpg",function(e){d=e});case 11:return e.next=13,l.pdfImages("fifthanglestudios.png",function(e){u=e});case 13:return e.next=15,l.pdfImages("Invoice+Images-03.jpg",function(e){c=e});case 15:return e.next=17,l.pdfImages("Invoice+Images-04.jpg",function(e){p=e});case 17:return n.addImage(o,"JPEG",0,150,210,30),n.addImage(s,"JPEG",10,40,100,120),n.addImage(c,"JPEG",40,165,70,95),n.addImage(u,"JPEG",130,40,40,40),n.addImage(d,"JPEG",115,90,85,100),n.addPage(),e.next=25,l.pdfImages("Invoice+Images-12.png",function(e){m=e});case 25:return e.next=27,l.pdfImages("Invoice+Images-05.jpg",function(e){v=e});case 27:return e.next=29,l.pdfImages("Invoice+Images-06.jpg",function(e){f=e});case 29:return e.next=31,l.pdfImages("Invoice+Images-08.png",function(e){g=e});case 31:return n.addImage(o,"JPEG",10,30,20,240),n.addImage(m,"JPEG",150,5,50,30),n.addImage(p,"JPEG",20,40,110,100),n.addImage(v,"JPEG",135,60,65,90),n.addImage(g,"JPEG",40,150,70,30),n.text("Established in the year 2015 by Manoj Nagarajan, Fifth Angle Studios\n continues to be striving, for one thing, i.e., making sure that every\n single moment of a wedding is captured beautifully and delivered to\n you with the very soul of it.\n\n\nWe shoot and treat a lot of weddings a year, but for us, every single\n wedding is as significant as it is to you. Just because of that, we have\n been able to come where we are now and have a great record of client\n satisfaction. We cater to not just weddings but any event that asks for\n aesthetically captured memories. \n      ",50,180),n.addImage(u,"JPEG",90,260,30,30),n.addPage(),e.next=41,l.pdfImages("Invoice+Images-09.png",function(e){h=e});case 41:return n.addImage(o,"JPEG",0,80,60,20),n.addImage(m,"JPEG",150,5,50,30),n.addImage(h,"JPEG",75,40,60,30),n.addImage(f,"JPEG",20,75,170,175),n.addImage(u,"JPEG",90,260,30,30),n.text("Engagement \xb7 Wedding \xb7 Birthday \xb7 Portfolio \xb7 Outdoor \xb7 Events",50,70),n.addPage(),e.next=50,l.pdfImages("Invoice+Images-10.png",function(e){y=e});case 50:return n.addImage(m,"JPEG",150,5,50,30),n.addImage(y,"JPEG",20,5,60,30),n.addImage(u,"JPEG",90,260,30,30),b=[],e.next=56,k.post(N.b,{query:M.e,variables:{projectQuoteId:t}}).then(function(e){var t,a,r,i,o,s,d,c,p,v,f,g,h,_,E;e&&(n.fromHTML("<b>Client Name: ".concat(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:null===(r=a.projectQuoteById)||void 0===r?void 0:null===(i=r.projectByProjectId)||void 0===i?void 0:null===(o=i.customerByCustomerId)||void 0===o?void 0:o.name,"</b>"),20,30),n.fromHTML("<b>Quote Date: ".concat(q()(new Date).format("Do MMMM YYYY"),"</b>"),20,40),(null===e||void 0===e?void 0:null===(s=e.data)||void 0===s?void 0:null===(d=s.data)||void 0===d?void 0:null===(c=d.projectQuoteById)||void 0===c?void 0:null===(p=c.projectByProjectId)||void 0===p?void 0:null===(v=p.customerByCustomerId)||void 0===v?void 0:null===(f=v.projectEventsByCustomerId)||void 0===f?void 0:null===(g=f.nodes)||void 0===g?void 0:g.filter(function(e){return 0!==e.eventServicesByProjectEventId.nodes.length})).map(function(e){var t,a=[];return e.eventServicesByProjectEventId.nodes.map(function(e){var t,n,r;(null===e||void 0===e?void 0:e.isDeliverable)?b.push([null===(t=e.masterServiceByServiceId)||void 0===t?void 0:t.description,null===e||void 0===e?void 0:e.quantity,null===(n=e.masterServiceByServiceId)||void 0===n?void 0:n.duration]):a.push([null===(r=e.masterServiceByServiceId)||void 0===r?void 0:r.serviceName,null===e||void 0===e?void 0:e.quantity]);return e}),n.autoTable({head:[["".concat(null===e||void 0===e?void 0:null===(t=e.masterEventByEventId)||void 0===t?void 0:t.eventName," | Location: ").concat(null===e||void 0===e?void 0:e.location," | Event Date: ").concat(q()(null===e||void 0===e?void 0:e.eventStartDate).format("Do MMMM YYYY"))]],theme:"plain",headStyles:{valign:"middle",halign:"center",fillColor:[255,255,255]},styles:{fontSize:11},margin:{top:55,right:20,bottom:40,left:20}}),n.autoTable({body:a,head:[["Time Slot: ".concat("pm"===q()(null===e||void 0===e?void 0:e.eventStartDate).format("a")?"Evening":"Morning"),"Crew"]],headStyles:{valign:"middle",halign:"left",fontStyle:"bold",textColor:"black"},alternateRowStyles:{borderBottomStyle:"5px solid red"},styles:{fontSize:11},columnStyles:{0:{cellWidth:120,halign:"left"},1:{cellWidth:50,halign:"left"}},theme:"plain",margin:{top:55,right:20,bottom:40,left:20},didDrawPage:function(){n.addImage(y,"JPEG",20,5,60,30),n.addImage(m,"JPEG",150,5,50,30),n.addImage(u,"JPEG",90,260,30,30)},didDrawCell:function(e){e.section}}),e}),(null===b||void 0===b?void 0:b.length)>0&&n.autoTable({head:[["Deliverables","Qty","Duration"]],body:b,columnStyles:{0:{cellWidth:80,halign:"left"},1:{cellWidth:40,halign:"left"},2:{cellWidth:50,halign:"left"}},headStyles:{valign:"middle",halign:"left",fillColor:[255,255,255]},styles:{fontSize:11},didDrawPage:function(){n.addImage(y,"JPEG",20,5,60,30),n.addImage(m,"JPEG",150,5,50,30),n.addImage(u,"JPEG",90,260,30,30)},didDrawCell:function(e){e.section},theme:"plain",margin:{top:55,right:20,bottom:40,left:20}}),n.autoTable({head:[["Price: Rs ".concat(l.splitAmountValue(null===e||void 0===e?void 0:null===(h=e.data)||void 0===h?void 0:null===(_=h.data)||void 0===_?void 0:null===(E=_.projectQuoteById)||void 0===E?void 0:E.totalAmt)," + GST")]],headStyles:{valign:"middle",halign:"center",fontStyle:"bold",fontSize:12,textColor:"black",fillColor:[255,255,255]},margin:{top:55,right:20,bottom:40,left:20},didDrawPage:function(){n.addImage(y,"JPEG",20,5,60,30),n.addImage(m,"JPEG",150,5,50,30),n.addImage(u,"JPEG",90,260,30,30)},theme:"plain"}),n.addPage(),n.autoTable({head:[["Optionals","Qty","Price"]],body:[["Candid Cinematography: Teaser & Film","2 Sessions","Rs.1,00,000"],["Live projection PlasmaTV Screens","1 Unit per session","Rs.2,000 + Transport"],["LED Wall 8 \xd7 6 + Engineer","1 Session","Rs.22,000 + Transport"],["Online HD Mixer + Technicians","1 Session","Rs.15,000"],["Helicam / Drone","1 Session","Rs.20,000"],["Live Internet Webcasting: Per hour Ask for quote Domain Name + Designer + Server","Per hour","Ask for quote"]],columnStyles:{0:{cellWidth:70,halign:"left"},1:{cellWidth:50,halign:"left"},2:{cellWidth:50,halign:"left"}},headStyles:{valign:"middle",halign:"left",fillColor:[255,255,255]},styles:{fontSize:11},theme:"plain",didDrawPage:function(){n.addImage(y,"JPEG",20,5,60,30),n.addImage(m,"JPEG",150,5,50,30),n.addImage(u,"JPEG",90,260,30,30)},didDrawCell:function(e){e.section},margin:{top:55,right:20,bottom:40,left:20}}))});case 56:return n.addImage(u,"JPEG",90,260,30,30),n.addPage(),e.next=60,l.pdfImages("Invoice+Images-11.png",function(e){_=e});case 60:return n.addImage(m,"JPEG",150,5,50,30),n.addImage(_,"JPEG",20,5,60,30),n.addImage(u,"JPEG",90,260,30,30),n.text("\n1. Travel to and fro to the venue outside Chennai with Accommodation and Food for the crew should\n be provided/reimbursed by the client.\n\n2. 50% of amount payable on confirmation, 40% due before the event and 10% due before the\n delivery of raw photographs.\n\n3. Copyrights of all the images and video remains to Fifth Angle Studios and will be used for\n promotional purposes.\n\n4. Pictures for the album should be selected within 3 months after receiving the raw files.\n\n5. Additional copies of album will be charged extra. (approx 25,000/- for a 40 sheet album)\n\n6. Additional sheets of the album will be charged extra.\n\n7. Only on receipt of final payment, all original high res photos will be delivered.\n\n8. One revision of album design is free, while no revision of album after printing. Customer shall\n request for additional changes in album design at an extra cost.\n\n9. Booking to be confirmed by signing a Letter of Contract and payment of advance. No refund of \nadvance at any situation.\n\n10. Services listed in the package above can be customized based upon client requirements.\n\n11. Traditional video or documentary video of the event will be edited only in our format/style. No\n changes can be made by the client.\n\n12. Preferences and song choices for the candid teaser and wedding film should be told at the\n initial stage by the client. Only one free revision is allowed after this and further more revisions\n can be made at an extra cost.\n\n13. To include any optionals to the package, notification before 15 days from the date of event is\n mandatory.\n\n14. Outstation travel cost to be covered by clients. Mode of travel will be our preference.\n\n15. Candid pictures for the retouch to be selected only by our team.\n\n16. After closing the pending payment, client should collect the raw files within 7 days in their own\n hard disk.\n          ",20,40),n.addPage(),n.setFillColor(255,253,252),n.rect(0,0,210,300,"F"),e.next=69,l.pdfImages("Thank+you.png",function(e){E=e});case 69:return e.next=71,l.pdfImages("insta.png",function(e){I=e});case 71:return e.next=73,l.pdfImages("fb.png",function(e){C=e});case 73:return e.next=75,l.pdfImages("yt.png",function(e){w=e});case 75:n.addImage(m,"JPEG",150,5,50,30),n.addImage(o,"JPEG",0,70,125,30),n.addImage(E,"JPEG",65,70,60,30),n.addImage(I,"JPEG",40,125,8,8),n.addImage(C,"JPEG",85,125,8,8),n.addImage(w,"JPEG",130,125,8,8),n.text("fifth_angle_studios",50,130),n.text("FifthAngleStudios",95,130),n.text("FifthAngleStudios",140,130),n.text("info@fifthanglestudios.com | www.fifthanglestudios.com",50,140),n.text("No. 49/13, Habibullah Road, T.Nagar, Chennai-17",55,160),n.text("+91 8870042555, 9884789497",65,170),n.addImage(u,"JPEG",90,260,30,30),n.save("".concat(a,".pdf")),l.props.circularProcess(!1);case 90:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),l.pdfImages=function(){var t=Object(o.a)(i.a.mark(function t(a,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.state.unmounted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,k.get("https://fas-images-assets.s3.ap-south-1.amazonaws.com/pdfimages/".concat(a),{responseType:"arraybuffer"}).then(function(t){n(e.from(t.data,"binary").toString("base64"))}).catch(console.error);case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),l.AdjustmentAmtChanges=function(e){var t=l.state,a=t.baseAmt,n=t.discount,r=t.totalAmt,i=t.tax,o=t.netAmt,s=e;if((r=a-n)<0)return l.props.alertOpenBox({open:!0,content:"Oops your adjustmentAmt amount is greater than the Base amount",status:"info"}),!1;r=a-n+Number(s),l.state.unmounted||(l.setState({totalAmt:r}),o=r+(i=18*r/100),l.state.unmounted||l.setState({adjustmentAmt:s,netAmt:o,tax:i}))},l.addQuote=function(){var e=!1,t=l.state.project_event;if(t=t.map(function(t,a){return t[l.state.project_event[a].masterEventByEventId.eventName].length>0?(t.error=!1,t[l.state.project_event[a].masterEventByEventId.eventName].map(function(t){return(t.is_deliverable||t.modifyprice.trim().length>0)&&(t.is_deliverable||Number(t.modifyprice.trim())>0)?t.error=!1:(e=!0,t.error=!0),t})):(e=!0,t.error=!0),t}),e){if(l.state.unmounted)return;l.setState({project_event:t})}else l.state.unmounted||(l.props.circularProcess(!0),l.props.handleAddQuote(Object(n.a)({},l.state,{customer_id:l.props.match.params.id})),l.setState({discount:0,baseAmt:0,totalAmt:0,tax:0,netAmt:0,type:"current",dates:"",adjustmentAmt:0,selected_master_service:[],project_event:[]}),l.master_service_fun(),l.get_project_event())},l.renderButton=function(e){return"current"===e?v.a.createElement("div",null," ",v.a.createElement(E.a,{type:"submit",variant:"contained",style:{backgroundColor:"#3f51b5"},className:"jr-btn bg- text-white btn-format",onClick:l.addQuote},"Add Quote")):l.props.quoteId===l.props.finalQuote_id?v.a.createElement(E.a,{type:"submit",variant:"outlined",disabled:"undefined"!==typeof l.props.finace&&l.props.finace,style:{border:"1px solid white"},className:"jr-btn bg-danger text-white btn-format",onClick:function(){return l.props.handleFinalized()}},"Final Quote"):v.a.createElement(E.a,{type:"submit",variant:"outlined",style:{backgroundColor:"nsparent",border:"1px solid red"},className:"jr-btn  text-red btn-format",onClick:function(){return l.props.handleUnFinalized(l.props.quoteId)}},"Not Final")},l.AutohandleChange=function(e){return function(t,a){var r,i=l.state,o=a;o=null===(r=o)||void 0===r?void 0:r.map(function(e){return"undefined"===typeof e.quantity&&(e.quantity=1,e.modifyprice=e.price.trim(),e.is_deliverable=!1,e.error=!1,e.created_at=new Date,e.errorMsg="please fill this field"),e}),i.project_event[e][i.project_event[e].masterEventByEventId.eventName]=JSON.parse(JSON.stringify(o)),l.state.unmounted||(l.setState(Object(n.a)({},i)),l.netAmountCalc())}},l.netAmountCalc=function(){var e=l.state.project_event,t=l.state,a=0,r=0,i=0,o=0;e.map(function(e){return e.subTotal=0,e[e.masterEventByEventId.eventName].map(function(t){var n=t.modifyprice.length>0?Number(t.modifyprice):0;return a+=n*t.quantity,e.subTotal=e.subTotal+n*t.quantity,t}),e}),o=(r=a+Number(t.adjustmentAmt)-t.discount)+(i=18*r/100),0===a&&(t.discount=0,t.adjustmentAmt=0,a=0,r=0,i=0,o=0),l.state.unmounted||l.setState(Object(n.a)({},t,{baseAmt:a,totalAmt:r,tax:i,netAmt:o}))},l.handleDateChange=function(e){l.state.unmounted||l.setState({selectedDate:e._d})},l.subTotalAmount=function(e){var t=0;return e.map(function(e){return t+=(null===e||void 0===e?void 0:e.quantity)*Number(null===e||void 0===e?void 0:e.servicePrice),e}),t},l.state={unmounted:!1,discount:0,baseAmt:0,totalAmt:0,tax:0,netAmt:0,type:"current",dates:"",adjustmentAmt:0,master_services:[],selected_master_service:[],final_event_service:[],project_event:[]},l}return Object(p.a)(a,t),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.master_service_fun(),this.get_project_event()}},{key:"componentWillReceiveProps",value:function(e){e.state&&this.get_project_event()}},{key:"componentWillUnmount",value:function(){this.setState({unmounted:!0})}},{key:"render",value:function(){var e,t,a,r,l=this,i=this.props.see,o=this.props.see1,s=this.props.headings,d="current"!==this.props.type?this.props.data:this.state,u=q()(null===d||void 0===d?void 0:d.createdAt).format("Do MMMM YYYY"),c=this.state.dense;return v.a.createElement(b.a,{styleName:"col-lg-12 col-md-12 col-sm-12 p-0 m-0",style:{padding:"0 !important"},className:"cardsInteractiveList"},v.a.createElement("div",null,v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-lg-1 p-0 ",style:{textAlign:"left",padding:"0px !important",position:"relative"}},"finalized"===d.type?v.a.createElement("label",{class:"label danger",style:{margin:" !important"}},"Finalized"):null),v.a.createElement("div",{className:"col-lg-11",style:{fontWeight:"bold",textAlign:"center"}},s?v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-lg-7 col-6 text-lg-right text-sm-left "},v.a.createElement("span",null,s)),v.a.createElement("div",{className:"col-lg-5 col-6  ",style:{textAlign:"right"}},v.a.createElement("span",{style:{fontWeight:"500",fontSize:"13px"}},u))):v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-lg-7 col-6 text-lg-right text-sm-left "},v.a.createElement("span",null,"Generate Quote")),v.a.createElement("div",{className:"col-lg-5 col-6  ",style:{textAlign:"right"}},v.a.createElement("span",null,this.renderButton(d.type))))))),v.a.createElement(y.a,{style:{padding:"9px"}},"current"===d.type?v.a.createElement(v.a.Fragment,null,0===(null===(e=d.project_event)||void 0===e?void 0:e.length)?v.a.createElement(_.a,{id:"outlined-password-input",label:"\u20b9 \xa0Service Type",disabled:this.props.see,type:"text",autoComplete:"current-password",margin:"normal",variant:"outlined",value:"",style:{width:"100%"}}):d.project_event&&(null===(t=d.project_event)||void 0===t?void 0:t.map(function(e,t){var a;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:{margin:"10px 0px",fontWeight:"bold"}},v.a.createElement("label",null,"".concat(e.masterEventByEventId.eventName)),"\xa0\xa0",v.a.createElement("label",null,"undefined"===typeof e.subTotal?"":v.a.createElement("label",null,Object(h.a)(null===e||void 0===e?void 0:e.subTotal)))),v.a.createElement("div",{style:{width:"100%"}},v.a.createElement(C.a,{multiple:!0,id:"tags-standard",options:l.state.master_services,getOptionLabel:function(e){return"".concat(e.serviceName)},value:e[e.masterEventByEventId.eventName],onChange:l.AutohandleChange(t),renderTags:function(e,t){return e.map(function(e,a){return v.a.createElement(w.a,Object.assign({variant:"outlined",label:"".concat(e.serviceName)},t({index:a})))})},renderInput:function(t){return v.a.createElement(_.a,Object.assign({},t,{variant:"outlined",label:"Choose Service Type",placeholder:e[e.masterEventByEventId.eventName].length>0?"":"Choose Service Type",helperText:(null===e||void 0===e?void 0:e.error)?null===e||void 0===e?void 0:e.errorMsg:"",error:!(null===e||void 0===e||!e.error),style:{width:"100%"}}))}})),e[e.masterEventByEventId.eventName].length>0?v.a.createElement("div",{style:{margin:"10px 0px"}},v.a.createElement(S.a,null,v.a.createElement(x.a,{className:"padspace"},null===(a=e[e.masterEventByEventId.eventName])||void 0===a?void 0:a.map(function(a,r){return v.a.createElement(D.a,{key:a.id,className:"padspace"},v.a.createElement(j.a,{align:"center",width:"50px",className:"padspace"},v.a.createElement(U.a,{style:{padding:"1px 4px",marginRight:"10px"}},v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement($.a,{checked:null===a||void 0===a?void 0:a.is_deliverable,onChange:function(a){var i=l.state;i.project_event[t][e.masterEventByEventId.eventName][r].is_deliverable=a.target.checked,l.state.unmounted||l.setState(Object(n.a)({},i))},color:"primary"}))))),v.a.createElement(j.a,{width:"250px",className:"padspace",style:{height:"46px",textAlign:"left"}},v.a.createElement("label",null,"".concat(null===a||void 0===a?void 0:a.serviceName))),v.a.createElement(j.a,{width:"250px",align:"center",className:"padspace"},v.a.createElement(_.a,{id:"price",label:"\u20b9 \xa0Price",type:"number",autoComplete:"current-password",margin:"dense",onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString()},variant:"outlined",value:null===a||void 0===a?void 0:a.modifyprice,helperText:(null===a||void 0===a?void 0:a.error)?null===a||void 0===a?void 0:a.errorMsg:"",error:!(null===a||void 0===a||!a.error),onChange:function(a){var i=l.state;i.project_event[t][e.masterEventByEventId.eventName][r].modifyprice=a.target.value,l.state.unmounted||(l.setState(Object(n.a)({},i)),l.netAmountCalc())}})),v.a.createElement(j.a,{width:"200px",align:"center",className:"padspace"},v.a.createElement("div",{style:{display:"flex"}},v.a.createElement("div",{style:{background:"#3e51b5",padding:"1px 4px",lineHeight:"0px",borderRadius:"3px",marginRight:"10px"}},v.a.createElement(A.a,{style:{color:"#fff"},onClick:function(){var a=l.state,i=a.project_event[t][e.masterEventByEventId.eventName][r].quantity;i>1&&(a.project_event[t][e.masterEventByEventId.eventName][r].quantity=i-1),l.state.unmounted||(l.setState(Object(n.a)({},a)),l.netAmountCalc())}})),v.a.createElement("div",{style:{fontWeight:"bold",lineHeight:"25px"}},null===a||void 0===a?void 0:a.quantity),v.a.createElement("div",{style:{background:"#3e51b5",padding:"1px 4px",lineHeight:"0px",borderRadius:"3px",marginLeft:"10px"}},v.a.createElement(B.a,{style:{color:"#fff"},onClick:function(){var a=l.state,i=a.project_event[t][e.masterEventByEventId.eventName][r].quantity;a.project_event[t][e.masterEventByEventId.eventName][r].quantity=i+1,l.state.unmounted||(l.setState(Object(n.a)({},a)),l.netAmountCalc())}})))),v.a.createElement(j.a,{width:"200px",align:"center",className:"padspace"},v.a.createElement("label",null,Object(h.a)((null===a||void 0===a?void 0:a.quantity)*(null===a||void 0===a?void 0:a.modifyprice)))),v.a.createElement(j.a,{width:"250px",className:"padspace"},v.a.createElement("p",null,null===a||void 0===a?void 0:a.description)),v.a.createElement(j.a,{width:"250px",className:"padspace"},v.a.createElement("p",null,null===a||void 0===a?void 0:a.duration)))})))):"")}))):v.a.createElement(v.a.Fragment,null,d.project_event&&(null===(a=d.project_event)||void 0===a?void 0:a.map(function(e,t){var a;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:{margin:"5px 0px",fontWeight:"bold"}},v.a.createElement("label",null,null===e||void 0===e?void 0:e.masterEventByEventId.eventName),"\xa0\xa0",v.a.createElement("label",null,Object(h.a)(l.subTotalAmount(null===e||void 0===e?void 0:e.event_services)))),v.a.createElement(S.a,{style:{filter:"opacity(0.5)"}},v.a.createElement(x.a,{className:"padspace"},null===e||void 0===e?void 0:null===(a=e.event_services)||void 0===a?void 0:a.map(function(e,t){var a,n,r;return v.a.createElement(D.a,{key:e.id,className:"padspace"},v.a.createElement(j.a,{align:"center",width:"50px",className:"padspace"},v.a.createElement($.a,{disabled:!0,checked:null===e||void 0===e?void 0:e.isDeliverable,color:"primary"})),v.a.createElement(j.a,{width:"250px",className:"padspace ",style:{height:"40px",color:"black",textAlign:"left"}},"".concat(null===e||void 0===e?void 0:null===(a=e.masterServiceByServiceId)||void 0===a?void 0:a.serviceName," ("),v.a.createElement("label",null,"".concat(Object(h.a)(null===e||void 0===e?void 0:e.servicePrice),")"))),v.a.createElement(j.a,{align:"center",width:"50px",className:"padspace",style:{color:"black"}},null===e||void 0===e?void 0:e.quantity),v.a.createElement(j.a,{align:"center",width:"200px",className:"padspace"},v.a.createElement("label",null,Object(h.a)((null===e||void 0===e?void 0:e.quantity)*Number(null===e||void 0===e?void 0:e.servicePrice)))),v.a.createElement(j.a,{width:"300px",className:"padspace"},v.a.createElement("label",null,null===e||void 0===e?void 0:null===(n=e.masterServiceByServiceId)||void 0===n?void 0:n.description)),v.a.createElement(j.a,{width:"300px",className:"padspace"},v.a.createElement("label",null,null===e||void 0===e?void 0:null===(r=e.masterServiceByServiceId)||void 0===r?void 0:r.duration)))}))))})))),v.a.createElement(f.a,{disablePadding:!0,dense:c,style:{padding:"2px"}},(r=v.a.createElement(g.a,{dense:c,style:{padding:"2px"}},v.a.createElement(U.a,{container:!0,direction:"column",alignItems:"stretch"},v.a.createElement(U.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch"},v.a.createElement(U.a,{item:!0,container:!0,justify:"space-around",alignItems:"center",spacing:2},v.a.createElement(U.a,{item:!0,xs:12,lg:3,md:3},v.a.createElement(_.a,{id:"outlined-password-input",label:"\u20b9 \xa0Base Amount",disabled:this.props.see,type:"text",autoComplete:"current-password",margin:"normal",variant:"outlined",inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:Object(h.a)(d.baseAmt),style:{width:"100%"}})),v.a.createElement(U.a,{item:!0,xs:12,lg:3,md:3},v.a.createElement(_.a,{id:"discount",label:"\u20b9 \xa0Discount",type:"number",autoComplete:"current-password",margin:"normal",onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString()},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},variant:"outlined",value:d.discount,onChange:function(e){return l.discountChange(e.target.value)},disabled:"current"===d.type?o:i,style:{width:"100%"}})),v.a.createElement(U.a,{item:!0,xs:12,lg:3,md:3},v.a.createElement(_.a,{id:"adjustmentAmt",label:"\u20b9 \xa0Adjustment",type:"number",autoComplete:"current-password",margin:"normal",onKeyDown:function(e){return(40===e.which||38===e.which)&&e.preventDefault()},onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString()},inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},variant:"outlined",value:d.adjustmentAmt,onChange:function(e){return l.AdjustmentAmtChanges(e.target.value)},disabled:"current"===d.type?o:i,style:{width:"100%"}})),v.a.createElement(U.a,{item:!0,xs:12,lg:3,md:3},v.a.createElement(_.a,{id:"TotalAmount",label:"\u20b9 \xa0Total Amount",disabled:!0,type:"text",autoComplete:"current-password",margin:"normal",variant:"outlined",inputProps:{style:{color:"rgba(0, 0, 0, 0.7)",fontSize:"14px"}},value:Object(h.a)(d.totalAmt),style:{width:"100%"}}))),v.a.createElement(U.a,{item:!0,container:!0,alignItems:"center"},v.a.createElement(U.a,{xs:12,sm:12,md:12,lg:12,style:{marginTop:"10px"}},v.a.createElement("label",{style:{color:"rgb(152, 148, 148)"}},"18% GST will be applied"))),v.a.createElement(U.a,{container:!0,item:!0,xs:12,lg:12,md:12,justify:"flex-end"},"current"===d.type?null:v.a.createElement("div",{style:{marginTop:"8px",marginLeft:"8px"}},this.renderButton(d.type)),"current"!==d.type?v.a.createElement("div",{style:{marginTop:"8px",marginLeft:"8px"}},v.a.createElement(E.a,{type:"submit",variant:"outlined",className:"jr-btn bg-success text-white btn-format",onClick:function(){return l.generate_pdf(l.props.quoteId,l.props.headings)},style:{marginRight:"0"}},"undefined"===typeof this.props.finace?"Generate Quote":"View Quote"),v.a.createElement("div",{style:{textAlign:"center"}})):"")))),[0].map(function(e){return Object(m.cloneElement)(r,{key:e})})))))}}]),a}(m.Component);t.a=Q}).call(this,a(665).Buffer)},928:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(21),r=a(12),l=a(25),i=a(26),o=a(27),s=a(0),d=a.n(s),u=a(540),c=a(600),p=(a(495),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).handleFinalized=function(e){return function(t){var n=a.state;n.data[e].type="unfinalized",a.setState(n)}},a.handleUnFinalized=function(e){return function(t){var n=a.state,r=Object.keys(n.data).filter(function(t){return t!==e});n.data[e].type="finalized",r.map(function(e){return n.data[e].type="unfinalized"}),a.setState(n)}},a.state={data:{123:{service1:!0,service2:!1,service3:!0,service4:!1,discountGiven:100,presentValue:200,totalAmount:1e3,TaxOnTotal:50,netAmount:500,type:"unfinalized",quoteNo:1},456:{service1:!0,service2:!1,service3:!0,service4:!1,discountGiven:100,presentValue:900,totalAmount:100,TaxOnTotal:350,netAmount:800,type:"unfinalized",quoteNo:2}}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"app-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-6 col-md-6"},d.a.createElement(u.a,{see:!0,className:"black",name:"jayasoorya",number:"9841348263",email:"jayasooryadaniel@gmail.com"})," "),d.a.createElement("div",{className:"col-lg-6 col-md-6"},d.a.createElement(c.a,{see:!0,see1:!1,className:"cardsInteractiveList",type:"current",handleAddQuote:function(t,a){var n=e.state;n.data[a]=t,n.data[a].type="unfinalize",e.setState(n)}})),Object.keys(this.state.data).map(function(t){return d.a.createElement("div",{className:"col-lg-6 col-md-6"},d.a.createElement(c.a,{headings:"Quote"+e.state.data[t].quoteNo,className:"cardsInteractiveList",see:!0,quoteId:t,data:e.state.data[t],handleUnFinalized:e.handleUnFinalized,handleFinalized:e.handleFinalized}))}))))}}]),t}(d.a.Component))}}]);
//# sourceMappingURL=15.9d7f320a.chunk.js.map